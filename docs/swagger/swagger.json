{
    "schemes": [
        "http",
        "https"
    ],
    "swagger": "2.0",
    "info": {
        "description": "Nutrition tracking API.\n\nError code catalog:\n- See docs/openapi-error-codes.md in repository root.",
        "title": "Nutrition API",
        "contact": {},
        "version": "1.0"
    },
    "basePath": "/api/v1",
    "paths": {
        "/auth/login": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Login user",
                "parameters": [
                    {
                        "description": "Login payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.LoginRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/service.AuthResult"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "429": {
                        "description": "Too Many Requests",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/auth/logout": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Logout session",
                "parameters": [
                    {
                        "description": "Refresh token payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.RefreshTokenRequest"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/auth/me": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Get current authenticated user",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.UserResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/auth/refresh": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Refresh tokens",
                "parameters": [
                    {
                        "description": "Refresh token payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.RefreshTokenRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/service.AuthResult"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Register user",
                "parameters": [
                    {
                        "description": "Registration payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.RegisterRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/service.AuthResult"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/body-weight-logs": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "body-weight-logs"
                ],
                "summary": "List body weight logs by date range",
                "parameters": [
                    {
                        "type": "string",
                        "description": "From date (YYYY-MM-DD)",
                        "name": "from",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "To date (YYYY-MM-DD)",
                        "name": "to",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Page size (default 20, max 100)",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page offset (default 0)",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/handlers.BodyWeightLogResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "body-weight-logs"
                ],
                "summary": "Create body weight log",
                "parameters": [
                    {
                        "description": "Body weight payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CreateBodyWeightLogRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/handlers.BodyWeightLogResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/body-weight-logs/latest": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "body-weight-logs"
                ],
                "summary": "Get latest body weight log",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.BodyWeightLogResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/daily-totals": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "meals"
                ],
                "summary": "Get daily nutrition totals",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Date (YYYY-MM-DD)",
                        "name": "date",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.DailyTotalsResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/foods": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "foods"
                ],
                "summary": "List foods",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search by food name (case-insensitive, partial match)",
                        "name": "q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page size (default 20, max 100)",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page offset (default 0)",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/handlers.FoodResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "foods"
                ],
                "summary": "Create food",
                "parameters": [
                    {
                        "description": "Food payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CreateFoodRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/handlers.FoodResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/foods/by-barcode/{barcode}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "foods"
                ],
                "summary": "Get food by barcode",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Food barcode",
                        "name": "barcode",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.FoodResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/foods/{id}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "foods"
                ],
                "summary": "Get food by ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Food ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.FoodResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "patch": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "foods"
                ],
                "summary": "Update food",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Food ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Food update payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateFoodRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.FoodResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "Backward-compatible alias for readiness",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Health check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.HealthResponse"
                        }
                    },
                    "503": {
                        "description": "Service Unavailable",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/health/live": {
            "get": {
                "description": "Returns process liveness status",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Liveness check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.HealthResponse"
                        }
                    }
                }
            }
        },
        "/health/ready": {
            "get": {
                "description": "Returns dependency readiness status",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Readiness check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.HealthResponse"
                        }
                    },
                    "503": {
                        "description": "Service Unavailable",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/meals": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "meals"
                ],
                "summary": "List meals by user and date",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Date (YYYY-MM-DD)",
                        "name": "date",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Page size (default 20, max 100)",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page offset (default 0)",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/handlers.MealResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "meals"
                ],
                "summary": "Create meal",
                "parameters": [
                    {
                        "description": "Meal payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CreateMealRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/handlers.MealResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/meals/{id}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "meals"
                ],
                "summary": "Get meal by ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Meal ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.MealResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "meals"
                ],
                "summary": "Delete meal",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Meal ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "patch": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "meals"
                ],
                "summary": "Update meal",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Meal ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Meal update payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateMealRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.MealResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/meals/{id}/items": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "meals"
                ],
                "summary": "Add meal item",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Meal ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Meal item payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.AddMealItemRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/handlers.MealItemResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/meals/{meal_id}/items/{item_id}": {
            "delete": {
                "tags": [
                    "meals"
                ],
                "summary": "Delete meal item",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Meal ID",
                        "name": "meal_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Meal Item ID",
                        "name": "item_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "patch": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "meals"
                ],
                "summary": "Update meal item",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Meal ID",
                        "name": "meal_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Meal Item ID",
                        "name": "item_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Meal item update payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateMealItemRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.MealItemResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/progress/daily": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user-goals"
                ],
                "summary": "Get daily progress against user goals",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Date (YYYY-MM-DD)",
                        "name": "date",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.DailyProgressResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/progress/energy": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "progress"
                ],
                "summary": "Get observed/formula energy progress",
                "parameters": [
                    {
                        "type": "string",
                        "description": "From date (YYYY-MM-DD)",
                        "name": "from",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "To date (YYYY-MM-DD)",
                        "name": "to",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.EnergyProgressResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/recipes": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "recipes"
                ],
                "summary": "List recipes",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search by recipe name (case-insensitive, partial match)",
                        "name": "q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page size (default 20, max 100)",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page offset (default 0)",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/handlers.RecipeResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "recipes"
                ],
                "summary": "Create recipe",
                "parameters": [
                    {
                        "description": "Recipe payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CreateRecipeRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/handlers.RecipeResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/recipes/{id}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "recipes"
                ],
                "summary": "Get recipe by ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Recipe ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.RecipeResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "patch": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "recipes"
                ],
                "summary": "Update recipe",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Recipe ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Recipe update payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateRecipeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.RecipeResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/user-goals": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user-goals"
                ],
                "summary": "Get current user goals",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.UserGoalResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            },
            "put": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user-goals"
                ],
                "summary": "Create or update user goals",
                "parameters": [
                    {
                        "description": "User goals payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpsertUserGoalRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.UserGoalResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/users/me": {
            "patch": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Update current authenticated user profile",
                "parameters": [
                    {
                        "description": "Update me payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateMeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.UserResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get user by ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.UserResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/handlers.ErrorEnvelope"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "dto.AddMealItemRequest": {
            "type": "object",
            "properties": {
                "food_id": {
                    "description": "Food source ID (mutually exclusive with recipe_id).",
                    "type": "integer",
                    "example": 1
                },
                "recipe_id": {
                    "description": "Recipe source ID (mutually exclusive with food_id).",
                    "type": "integer",
                    "example": 1
                },
                "weight_g": {
                    "description": "Item consumed weight in grams.",
                    "type": "number",
                    "example": 150
                }
            }
        },
        "dto.CreateBodyWeightLogRequest": {
            "type": "object",
            "properties": {
                "logged_at": {
                    "description": "Measurement timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T08:00:00Z"
                },
                "weight_kg": {
                    "description": "Body weight in kilograms.",
                    "type": "number",
                    "example": 85.2
                }
            }
        },
        "dto.CreateFoodRequest": {
            "type": "object",
            "properties": {
                "barcode": {
                    "description": "Optional product barcode (EAN/UPC digits).",
                    "type": "string",
                    "example": "5901234123457"
                },
                "carbs_per_100g": {
                    "description": "Carbohydrate grams per 100g.",
                    "type": "number",
                    "example": 28
                },
                "fat_per_100g": {
                    "description": "Fat grams per 100g.",
                    "type": "number",
                    "example": 0.3
                },
                "kcal_per_100g": {
                    "description": "Energy in kcal per 100g.",
                    "type": "number",
                    "example": 130
                },
                "name": {
                    "description": "Human-readable food name.",
                    "type": "string",
                    "example": "Rice"
                },
                "protein_per_100g": {
                    "description": "Protein grams per 100g.",
                    "type": "number",
                    "example": 2.7
                }
            }
        },
        "dto.CreateMealRequest": {
            "type": "object",
            "properties": {
                "eaten_at": {
                    "description": "Meal time in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "items": {
                    "description": "Optional items created atomically with meal.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.AddMealItemRequest"
                    }
                },
                "meal_type": {
                    "description": "Meal type enum.",
                    "allOf": [
                        {
                            "$ref": "#/definitions/meal.MealType"
                        }
                    ],
                    "example": "lunch"
                }
            }
        },
        "dto.CreateRecipeRequest": {
            "type": "object",
            "properties": {
                "ingredients": {
                    "description": "Ingredient list used for nutrition calculation.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.RecipeIngredientRequest"
                    }
                },
                "name": {
                    "description": "Human-readable recipe name.",
                    "type": "string",
                    "example": "Rice Bowl"
                },
                "yield_weight_g": {
                    "description": "Final cooked yield weight in grams.",
                    "type": "number",
                    "example": 200
                }
            }
        },
        "dto.LoginRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string",
                    "example": "john@gmail.com"
                },
                "password": {
                    "type": "string",
                    "example": "Pass1234!"
                }
            }
        },
        "dto.RecipeIngredientRequest": {
            "type": "object",
            "properties": {
                "food_id": {
                    "description": "Existing food ID used as ingredient source.",
                    "type": "integer",
                    "example": 1
                },
                "position": {
                    "description": "Optional ordering position.",
                    "type": "integer",
                    "example": 1
                },
                "raw_weight_g": {
                    "description": "Raw ingredient weight in grams.",
                    "type": "number",
                    "example": 200
                }
            }
        },
        "dto.RefreshTokenRequest": {
            "type": "object",
            "properties": {
                "refresh_token": {
                    "type": "string",
                    "example": "9f5v..."
                }
            }
        },
        "dto.RegisterRequest": {
            "type": "object",
            "properties": {
                "activity_level": {
                    "type": "string",
                    "example": "moderate"
                },
                "birth_date": {
                    "type": "string",
                    "example": "1994-05-18"
                },
                "email": {
                    "type": "string",
                    "example": "john@gmail.com"
                },
                "height_cm": {
                    "type": "number",
                    "example": 178
                },
                "name": {
                    "type": "string",
                    "example": "John Doe"
                },
                "password": {
                    "type": "string",
                    "example": "Pass1234!"
                },
                "sex": {
                    "type": "string",
                    "example": "male"
                }
            }
        },
        "dto.UpdateFoodRequest": {
            "type": "object",
            "properties": {
                "barcode": {
                    "description": "Optional product barcode (EAN/UPC digits).",
                    "type": "string",
                    "example": "5901234123457"
                },
                "carbs_per_100g": {
                    "description": "Optional carbohydrate grams per 100g.",
                    "type": "number",
                    "example": 28
                },
                "fat_per_100g": {
                    "description": "Optional fat grams per 100g.",
                    "type": "number",
                    "example": 0.3
                },
                "kcal_per_100g": {
                    "description": "Optional energy in kcal per 100g.",
                    "type": "number",
                    "example": 130
                },
                "name": {
                    "description": "Optional food name.",
                    "type": "string",
                    "example": "Cooked Rice"
                },
                "protein_per_100g": {
                    "description": "Optional protein grams per 100g.",
                    "type": "number",
                    "example": 2.7
                }
            }
        },
        "dto.UpdateMeRequest": {
            "type": "object",
            "properties": {
                "activity_level": {
                    "type": "string",
                    "example": "moderate"
                },
                "birth_date": {
                    "type": "string",
                    "example": "1994-05-18"
                },
                "height_cm": {
                    "type": "number",
                    "example": 178
                },
                "name": {
                    "type": "string",
                    "example": "John Doe"
                },
                "sex": {
                    "type": "string",
                    "example": "male"
                }
            }
        },
        "dto.UpdateMealItemRequest": {
            "type": "object",
            "properties": {
                "food_id": {
                    "description": "Optional food source ID (mutually exclusive with recipe_id).",
                    "type": "integer",
                    "example": 1
                },
                "recipe_id": {
                    "description": "Optional recipe source ID (mutually exclusive with food_id).",
                    "type": "integer",
                    "example": 1
                },
                "weight_g": {
                    "description": "Optional consumed weight in grams.",
                    "type": "number",
                    "example": 180
                }
            }
        },
        "dto.UpdateMealRequest": {
            "type": "object",
            "properties": {
                "eaten_at": {
                    "description": "Optional meal time in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T19:00:00Z"
                },
                "meal_type": {
                    "description": "Optional meal type enum.",
                    "allOf": [
                        {
                            "$ref": "#/definitions/meal.MealType"
                        }
                    ],
                    "example": "dinner"
                }
            }
        },
        "dto.UpdateRecipeRequest": {
            "type": "object",
            "properties": {
                "ingredients": {
                    "description": "Optional full replacement of ingredient list.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.RecipeIngredientRequest"
                    }
                },
                "name": {
                    "description": "Optional recipe name.",
                    "type": "string",
                    "example": "Updated Rice Bowl"
                },
                "yield_weight_g": {
                    "description": "Optional final cooked yield weight in grams.",
                    "type": "number",
                    "example": 210
                }
            }
        },
        "dto.UpsertUserGoalRequest": {
            "type": "object",
            "properties": {
                "activity_level": {
                    "description": "Optional activity level: sedentary|light|moderate|active|very_active.",
                    "type": "string",
                    "example": "moderate"
                },
                "target_carbs_g": {
                    "description": "Daily carbs target in grams.",
                    "type": "number",
                    "example": 220
                },
                "target_fat_g": {
                    "description": "Daily fat target in grams.",
                    "type": "number",
                    "example": 70
                },
                "target_kcal": {
                    "description": "Daily kcal target.",
                    "type": "number",
                    "example": 2200
                },
                "target_protein_g": {
                    "description": "Daily protein target in grams.",
                    "type": "number",
                    "example": 150
                },
                "weight_goal_kg": {
                    "description": "Optional body weight goal in kilograms.",
                    "type": "number",
                    "example": 80
                }
            }
        },
        "handlers.APIError": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "Stable machine-readable error code.",
                    "type": "string",
                    "example": "invalid_food_payload"
                },
                "message": {
                    "description": "Human-readable error message.",
                    "type": "string",
                    "example": "invalid food payload"
                },
                "request_id": {
                    "description": "Request ID for log correlation.",
                    "type": "string",
                    "example": "f328f2f67798/SrQv8xTxwA-000001"
                }
            }
        },
        "handlers.BodyWeightLogResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Creation timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T08:00:00Z"
                },
                "id": {
                    "description": "Body weight log ID.",
                    "type": "integer",
                    "example": 1
                },
                "logged_at": {
                    "description": "Measurement timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T08:00:00Z"
                },
                "updated_at": {
                    "description": "Last update timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T08:00:00Z"
                },
                "user_id": {
                    "description": "Owner user ID.",
                    "type": "integer",
                    "example": 1
                },
                "weight_kg": {
                    "description": "Body weight in kilograms.",
                    "type": "number",
                    "example": 85.2
                }
            }
        },
        "handlers.DailyProgressResponse": {
            "type": "object",
            "properties": {
                "date": {
                    "description": "Target date in YYYY-MM-DD.",
                    "type": "string",
                    "example": "2026-02-17"
                },
                "remaining_carbs_g": {
                    "description": "Remaining carbs grams (target - total).",
                    "type": "number",
                    "example": 20
                },
                "remaining_fat_g": {
                    "description": "Remaining fat grams (target - total).",
                    "type": "number",
                    "example": 10
                },
                "remaining_kcal": {
                    "description": "Remaining kcal (target - total).",
                    "type": "number",
                    "example": 350
                },
                "remaining_protein_g": {
                    "description": "Remaining protein grams (target - total).",
                    "type": "number",
                    "example": 30
                },
                "target_carbs_g": {
                    "description": "Target carbohydrate grams for the day.",
                    "type": "number",
                    "example": 220
                },
                "target_fat_g": {
                    "description": "Target fat grams for the day.",
                    "type": "number",
                    "example": 70
                },
                "target_kcal": {
                    "description": "Target kcal for the day.",
                    "type": "number",
                    "example": 2200
                },
                "target_protein_g": {
                    "description": "Target protein grams for the day.",
                    "type": "number",
                    "example": 150
                },
                "total_carbs_g": {
                    "description": "Aggregated carbohydrate grams for the day.",
                    "type": "number",
                    "example": 200
                },
                "total_fat_g": {
                    "description": "Aggregated fat grams for the day.",
                    "type": "number",
                    "example": 60
                },
                "total_kcal": {
                    "description": "Aggregated kcal for the day.",
                    "type": "number",
                    "example": 1850
                },
                "total_protein_g": {
                    "description": "Aggregated protein grams for the day.",
                    "type": "number",
                    "example": 120
                }
            }
        },
        "handlers.DailyTotalsResponse": {
            "type": "object",
            "properties": {
                "date": {
                    "description": "Target date in YYYY-MM-DD.",
                    "type": "string",
                    "example": "2026-02-17"
                },
                "total_carbs_g": {
                    "description": "Aggregated carbohydrate grams for the day.",
                    "type": "number",
                    "example": 220
                },
                "total_fat_g": {
                    "description": "Aggregated fat grams for the day.",
                    "type": "number",
                    "example": 70
                },
                "total_kcal": {
                    "description": "Aggregated kcal for the day.",
                    "type": "number",
                    "example": 2100
                },
                "total_protein_g": {
                    "description": "Aggregated protein grams for the day.",
                    "type": "number",
                    "example": 140
                }
            }
        },
        "handlers.EnergyProgressResponse": {
            "type": "object",
            "properties": {
                "avg_intake_kcal": {
                    "type": "number",
                    "example": 2150
                },
                "data_quality_score": {
                    "type": "number",
                    "example": 0.78
                },
                "formula_tdee_kcal": {
                    "type": "number",
                    "example": 2500
                },
                "from": {
                    "type": "string",
                    "example": "2026-01-22"
                },
                "observed_tdee_kcal": {
                    "type": "number",
                    "example": 2425
                },
                "recommended_tdee_kcal": {
                    "type": "number",
                    "example": 2460
                },
                "to": {
                    "type": "string",
                    "example": "2026-02-18"
                },
                "weight_trend_kg_per_week": {
                    "type": "number",
                    "example": -0.25
                }
            }
        },
        "handlers.ErrorEnvelope": {
            "type": "object",
            "properties": {
                "error": {
                    "$ref": "#/definitions/handlers.APIError"
                }
            }
        },
        "handlers.FoodResponse": {
            "type": "object",
            "properties": {
                "barcode": {
                    "description": "Optional product barcode.",
                    "type": "string",
                    "example": "5901234123457"
                },
                "carbs_per_100g": {
                    "description": "Carbohydrate grams per 100g.",
                    "type": "number",
                    "example": 28
                },
                "created_at": {
                    "description": "Creation timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "fat_per_100g": {
                    "description": "Fat grams per 100g.",
                    "type": "number",
                    "example": 0.3
                },
                "id": {
                    "description": "Food ID.",
                    "type": "integer",
                    "example": 1
                },
                "kcal_per_100g": {
                    "description": "Energy in kcal per 100g.",
                    "type": "number",
                    "example": 130
                },
                "name": {
                    "description": "Food name.",
                    "type": "string",
                    "example": "Rice"
                },
                "protein_per_100g": {
                    "description": "Protein grams per 100g.",
                    "type": "number",
                    "example": 2.7
                },
                "updated_at": {
                    "description": "Last update timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                }
            }
        },
        "handlers.HealthResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "description": "Human-readable health message.",
                    "type": "string",
                    "example": "nutrition api is running"
                },
                "status": {
                    "description": "Service status.",
                    "type": "string",
                    "example": "ok"
                }
            }
        },
        "handlers.MealItemResponse": {
            "type": "object",
            "properties": {
                "carbs_per_100g": {
                    "description": "Carbohydrate snapshot in g per 100g at log time.",
                    "type": "number",
                    "example": 28
                },
                "created_at": {
                    "description": "Creation timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "fat_per_100g": {
                    "description": "Fat snapshot in g per 100g at log time.",
                    "type": "number",
                    "example": 0.3
                },
                "food_id": {
                    "description": "Optional food source ID.",
                    "type": "integer",
                    "example": 1
                },
                "id": {
                    "description": "Meal item ID.",
                    "type": "integer",
                    "example": 1
                },
                "kcal_per_100g": {
                    "description": "Energy snapshot in kcal per 100g at log time.",
                    "type": "number",
                    "example": 130
                },
                "meal_id": {
                    "description": "Parent meal ID.",
                    "type": "integer",
                    "example": 1
                },
                "protein_per_100g": {
                    "description": "Protein snapshot in g per 100g at log time.",
                    "type": "number",
                    "example": 2.7
                },
                "recipe_id": {
                    "description": "Optional recipe source ID.",
                    "type": "integer",
                    "example": 1
                },
                "updated_at": {
                    "description": "Last update timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "weight_g": {
                    "description": "Consumed weight in grams.",
                    "type": "number",
                    "example": 150
                }
            }
        },
        "handlers.MealResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Creation timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "eaten_at": {
                    "description": "Meal timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "id": {
                    "description": "Meal ID.",
                    "type": "integer",
                    "example": 1
                },
                "items": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/handlers.MealItemResponse"
                    }
                },
                "meal_type": {
                    "description": "Meal type.",
                    "type": "string",
                    "example": "lunch"
                },
                "total_carbs_g": {
                    "description": "Aggregated carbohydrate grams for this meal.",
                    "type": "number",
                    "example": 75
                },
                "total_fat_g": {
                    "description": "Aggregated fat grams for this meal.",
                    "type": "number",
                    "example": 2.1
                },
                "total_kcal": {
                    "description": "Aggregated kcal for this meal.",
                    "type": "number",
                    "example": 350
                },
                "total_protein_g": {
                    "description": "Aggregated protein grams for this meal.",
                    "type": "number",
                    "example": 10.5
                },
                "updated_at": {
                    "description": "Last update timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "user_id": {
                    "description": "Owner user ID.",
                    "type": "integer",
                    "example": 1
                }
            }
        },
        "handlers.RecipeIngredientResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Creation timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "food_id": {
                    "description": "Referenced food ID.",
                    "type": "integer",
                    "example": 1
                },
                "id": {
                    "description": "Ingredient row ID.",
                    "type": "integer",
                    "example": 1
                },
                "position": {
                    "description": "Optional ordering position.",
                    "type": "integer",
                    "example": 1
                },
                "raw_weight_g": {
                    "description": "Raw ingredient weight in grams.",
                    "type": "number",
                    "example": 200
                },
                "recipe_id": {
                    "description": "Parent recipe ID.",
                    "type": "integer",
                    "example": 1
                },
                "updated_at": {
                    "description": "Last update timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                }
            }
        },
        "handlers.RecipeResponse": {
            "type": "object",
            "properties": {
                "carbs_per_100g": {
                    "description": "Carbohydrate grams per 100g.",
                    "type": "number",
                    "example": 28
                },
                "created_at": {
                    "description": "Creation timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "fat_per_100g": {
                    "description": "Fat grams per 100g.",
                    "type": "number",
                    "example": 0.3
                },
                "id": {
                    "description": "Recipe ID.",
                    "type": "integer",
                    "example": 1
                },
                "ingredients": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/handlers.RecipeIngredientResponse"
                    }
                },
                "kcal_per_100g": {
                    "description": "Energy in kcal per 100g.",
                    "type": "number",
                    "example": 130
                },
                "name": {
                    "description": "Recipe name.",
                    "type": "string",
                    "example": "Rice Bowl"
                },
                "protein_per_100g": {
                    "description": "Protein grams per 100g.",
                    "type": "number",
                    "example": 2.7
                },
                "updated_at": {
                    "description": "Last update timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "yield_weight_g": {
                    "description": "Final cooked yield weight in grams.",
                    "type": "number",
                    "example": 200
                }
            }
        },
        "handlers.UserGoalResponse": {
            "type": "object",
            "properties": {
                "activity_level": {
                    "description": "Optional activity level.",
                    "type": "string",
                    "example": "moderate"
                },
                "created_at": {
                    "description": "Creation timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T08:00:00Z"
                },
                "id": {
                    "description": "User goal ID.",
                    "type": "integer",
                    "example": 1
                },
                "target_carbs_g": {
                    "description": "Target carbs grams per day.",
                    "type": "number",
                    "example": 220
                },
                "target_fat_g": {
                    "description": "Target fat grams per day.",
                    "type": "number",
                    "example": 70
                },
                "target_kcal": {
                    "description": "Target kcal per day.",
                    "type": "number",
                    "example": 2200
                },
                "target_protein_g": {
                    "description": "Target protein grams per day.",
                    "type": "number",
                    "example": 150
                },
                "updated_at": {
                    "description": "Last update timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T08:00:00Z"
                },
                "user_id": {
                    "description": "Owner user ID.",
                    "type": "integer",
                    "example": 1
                },
                "weight_goal_kg": {
                    "description": "Optional weight goal in kilograms.",
                    "type": "number",
                    "example": 80
                }
            }
        },
        "handlers.UserResponse": {
            "type": "object",
            "properties": {
                "activity_level": {
                    "description": "Optional activity level.",
                    "type": "string",
                    "example": "moderate"
                },
                "birth_date": {
                    "description": "Optional birth date.",
                    "type": "string",
                    "example": "1994-05-18T00:00:00Z"
                },
                "created_at": {
                    "description": "Creation timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                },
                "email": {
                    "description": "Unique normalized email address.",
                    "type": "string",
                    "example": "john@gmail.com"
                },
                "height_cm": {
                    "description": "Optional height in centimeters.",
                    "type": "number",
                    "example": 178
                },
                "id": {
                    "description": "User ID.",
                    "type": "integer",
                    "example": 1
                },
                "name": {
                    "description": "Display name.",
                    "type": "string",
                    "example": "Test User"
                },
                "sex": {
                    "description": "Optional biological sex.",
                    "type": "string",
                    "example": "male"
                },
                "updated_at": {
                    "description": "Last update timestamp in RFC3339 UTC.",
                    "type": "string",
                    "example": "2026-02-17T12:00:00Z"
                }
            }
        },
        "meal.MealType": {
            "type": "string",
            "enum": [
                "breakfast",
                "lunch",
                "dinner",
                "snack"
            ],
            "x-enum-varnames": [
                "MealTypeBreakfast",
                "MealTypeLunch",
                "MealTypeDinner",
                "MealTypeSnack"
            ]
        },
        "service.AuthResult": {
            "type": "object",
            "properties": {
                "access_token": {
                    "type": "string"
                },
                "refresh_token": {
                    "type": "string"
                },
                "token": {
                    "type": "string"
                },
                "user": {
                    "$ref": "#/definitions/user.User"
                }
            }
        },
        "user.User": {
            "type": "object",
            "properties": {
                "activity_level": {
                    "type": "string"
                },
                "birth_date": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "height_cm": {
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "sex": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        }
    }
}